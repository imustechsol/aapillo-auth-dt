 <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Aapillo Auth Configuration</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="config-container">
        <header>
            <h1>Aapillo Auth Configuration</h1>
            <p>Configure your authentication system settings</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" onclick="showTab('general')">General Settings</button>
            <button class="tab-button" onclick="showTab('users')">User Management</button>
            <button class="tab-button" onclick="showTab('import-export')">Import/Export</button>
        </div>

        <!-- General Settings Tab -->
        <div id="general" class="tab-content active">
            <div class="section">
                <h3>Master Password</h3>
                <div class="form-group">
                    <label>Master Password:</label>
                    <input type="password" id="masterPassword" placeholder="Enter master password" required>
                </div>
                <div class="form-group">
                    <label>Confirm Password:</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm master password" required>
                </div>
            </div>

            <div class="section">
                <h3>API Configuration</h3>
                <div class="form-group">
                    <label>API Endpoint:</label>
                    <input type="url" id="apiEndpoint" placeholder="https://api.example.com" required>
                </div>
                <div class="form-group">
                    <label>API Key:</label>
                    <input type="password" id="apiKey" placeholder="Enter API key" required>
                </div>
            </div>

            <div class="actions">
                <button class="btn btn-primary" onclick="saveMasterConfig()">Save Configuration</button>
                <button class="btn btn-secondary" onclick="testConnection()">Test Connection</button>
            </div>
        </div>

        <!-- User Management Tab -->
        <div id="users" class="tab-content">
            <div class="section">
                <h3>System Users</h3>
                <button class="btn btn-secondary" onclick="refreshUsers()">Refresh Users</button>
                
                <div class="users-list" id="usersList">
                    <div class="loading">Loading users...</div>
                </div>
            </div>
        </div>

        <!-- Import/Export Tab -->
        <div id="import-export" class="tab-content">
            <div class="section">
                <h3>Configuration Backup</h3>
                <p>Export your configuration for backup or import on another system.</p>
                
                <div class="actions">
                    <button class="btn btn-primary" onclick="exportConfig()">Export Configuration</button>
                    <button class="btn btn-secondary" onclick="importConfig()">Import Configuration</button>
                </div>
            </div>

            <div class="section">
                <h3>Important Notes</h3>
                <ul class="notes">
                    <li>Configuration files are encrypted and cannot be edited manually</li>
                    <li>Keep your exported configuration files secure</li>
                    <li>Importing will overwrite existing configuration</li>
                </ul>
            </div>
        </div>

        <!-- User Panel (Slide-in) -->
        <div id="userPanel" class="user-panel">
            <div class="panel-header">
                <h3 id="panelTitle">User Configuration</h3>
                <button class="close-btn" onclick="closeUserPanel()">Ã—</button>
            </div>
            
            <div class="panel-content">
                <div class="form-group">
                    <label>UUID:</label>
                    <input type="text" id="userUuid" placeholder="Enter UUID for this user">
                </div>
                
                <div class="form-group">
                    <label>OTP Skip Duration (minutes):</label>
                    <input type="number" id="otpSkipDuration" value="60" min="0" max="1440">
                    <small>Duration in minutes before requiring OTP again (0 = always require)</small>
                </div>
                
                <div class="form-group">
                    <label>Mobile Numbers:</label>
                    <textarea id="mobileNumbers" placeholder="Enter mobile numbers separated by commas"></textarea>
                    <small>Enter mobile numbers separated by commas (e.g., +1234567890, +0987654321)</small>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="userEnabled" checked>
                        Enable OTP authentication for this user
                    </label>
                </div>
                
                <div class="panel-actions">
                    <button class="btn btn-primary" onclick="saveUserConfig()">Save User</button>
                    <button class="btn btn-secondary" onclick="closeUserPanel()">Cancel</button>
                </div>
            </div>
        </div>

        <div class="overlay" id="overlay"></div>
    </div>

    <script src="config.js"></script>
</body>
</html>